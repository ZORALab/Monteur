+++
date = "2021-11-30T21:35:54+08:00"
title = "Test"
description = """
Monteur provides Test CI Job to execute your repository's test suite uniformly.
"""
keywords = [
	"Test",
	"CI job",
	"Test CI Job",
	"ZORALab's Monteur",
	"configurations",
	"documentation",
]
draft = false
type = ""
# redirectURL=""
layout = "list"


[robots]
[robots.googleBot]
name = "googleBot"
content = ""


[modules]
extensions = [
	# Example: "sidebar",
]


[creators.holloway]
"@type" = "Person"
"name" = "'Holloway' Chew Kean Ho"


[thumbnails.0]
url = "/en/ci-jobs/test/default-1200x628.png"
width = "1200"
height = "628"
alternateText = "ZORALab's Monteur Test CI Job"

[thumbnails.1]
url = "/en/ci-jobs/test/default-1200x1200.png"
width = "1200"
height = "1200"
alternateText = "ZORALab's Monteur Test CI Job"

[thumbnails.2]
url = "/en/ci-jobs/test/default-480x480.png"
type = "image/png"
width = "480"
height = "480"
alternateText = "ZORALab's Monteur Test CI Job"


[menu.main]
parent = "CI Jobs"
name = "Test"
pre = "⚗️"
weight = 60
identifier = "ci-jobs-test"


[schema]
selectType = "WebPage"
+++

<section id="introduction">
	<h1>{{% param "title" %}}</h1>
	<p>
		{{% param "description" %}}
		<br/><br/>
		The objective of the job is simple: <b>to execute all test
		suites in the repository uniformly at will</b>.
		<br/><br/>
		All users has to do is to issue this command:
{{% highlight bash "linenos=table,hl_lines=,linenostart=1" %}}
montuer test
{{% /highlight %}}
	</p>
</section>




<section id="job-level-configurations">
	<h2>Job Level Configurations</h2>
	<p>
		Montuer does facilitate a job-wide configurations file for
		configuring Test CI Job over all settings and supplying
		job-wide variables.
		<br/><br/>
		The configuration file, by default, are stored in
{{% highlight bash "linenos=table,hl_lines=,linenostart=1" %}}
.configs/monteur/test/config.toml
{{% /highlight %}}
		The currently supported format are:
<ul>
	<li><p>
		<code>.toml (TOML)</code> -
		<a href="https://github.com/toml-lang/toml">
			https://github.com/toml-lang/toml</a>
	</p></li>
</ul>
		The file structure of the recipe configuration file is detailed
		from top to bottom in the following sub-sections, in sequences.
	</p>


	<section id="job-level-variables-section">
		<h3>Job Level Variables Section</h3>
		<p>
			The Monteur's <a href="{{< link
				"/internals/variables-processing/"
				"this"
				"url-only" />}}">Variables Processing</a>
			features. All variables defined in this job-wide
			configuration file <b>only visible to ALL Test CI Job
			recipes</b>. It is highly recommended to place
			project-based variables data into this list for
			recipes consistency purposes.
			<br/><br/>
			An example of the job-level variables section consists
			of the following fields:
{{% highlight bash "linenos=table,hl_lines=,linenostart=1" %}}
[Variables]
Version = '1.17.3'
BaseURL = 'https://golang.org/dl/'

[FMTVariables]
SourceDir = '{{- .WorkingDir -}}/public'
{{% /highlight %}}
			<ul>
				<li><p>
					<code>[Variables]</code> - plain
					variables list complying to
					<a href="{{< link
						"/internals/variables-processing/#plain-variables-definition"
						"this"
						"url-only" />}}">
						Montuer Plain Variables
						Definition</a>.
				</p></li>
				<li><p>
					<code>[FMTVariables]</code> -
					formattable variables list complying to
					<a href="{{< link
						"/internals/variables-processing/#formattable-variables-definition"
						"this"
						"url-only" />}}">
						Montuer Formattable Variables
						Definition</a>.
				</p></li>
			</ul>
		</p>
	</section>
</section>



<section id="recipe-configuration-file">
	<h2>Recipe Configuration File</h2>
	<p>
		All setup recipe configuration files, by default, are stored in
		directory with any name followed the a strict file extension
		called:
{{% highlight bash "linenos=table,hl_lines=,linenostart=1" %}}
.configs/monteur/test/jobs/
{{% /highlight %}}
		The currently supported format presented in their respective
		file extensions are:
<ul>
	<li><p>
		<code>.toml (TOML)</code> -
		<a href="https://github.com/toml-lang/toml">
			https://github.com/toml-lang/toml</a>
	</p></li>
</ul>
		The file structure of the recipe configuration file is detailed
		from top to bottom in the following sub-sections, in sequences,
		and in <code>TOML</code> format.
	</p>


	<section id="recipe-metadata-section">
		<h3>Recipe's Metadata Section</h3>
		<p>
			The recipe's metadata section consists of the following
			fields:
{{% highlight bash "linenos=table,hl_lines=,linenostart=1" %}}
[Metadata]
Name = 'Clean Up Build Log Artifact'
Description = """
Clean up all artifacts for a job.
"""
{{% /highlight %}}
			<ul>
				<li><p>
					<code>Name</code> - used for recipe
					identification, reporting, and
					referencing usage. Monteur recommends
					<b>keeping it short, concise and without
					any weird symbols (e.g. space will be
					replaced by short dash
					(<code>-</code>))</b>.
				</p></li>
				<li><p>
					<code>Description</code> - mainly for
					logging and reporting purposes.
					<b>Describe the details of the
					recipe.</b>
				</p></li>
			</ul>
		</p>
	</section>


	<section id="recipe-variables-section">
		<h3>Recipe's Variables Section</h3>
		<p>
			The Monteur's <a href="{{< link
				"/internals/variables-processing/"
				"this"
				"url-only" />}}">Variables Processing</a>
			features. All variables defined in this recipe's
			configuration file <b>only visible to this recipe</b>.
			It is highly recommended to abstract as much variables
			away from your setup algorithm as possible so that your
			user only has to customize these tables and not needing
			to mess with your algorithm.
			<br/><br/>
			The variables section consists of the following
			fields:
{{% highlight bash "linenos=table,hl_lines=,linenostart=1" %}}
[Variables]
Timeout = '14400s'

[FMTVariables]
ProfileFilepath = '{{- .WorkingDir -}}/go-profile.txt'
CoverageFilepath = '{{- .WorkingDir -}}/go-coverage.html'
TestPath = '{{- .BaseDir -}}/...'
TestCoverage = '' # will be overwritten by [CMD]
TestVerdict = '' # will be overwritten by [CMD]
{{% /highlight %}}
			<ul>
				<li><p>
					<code>[Variables]</code> - plain
					variables list complying to
					<a href="{{< link
						"/internals/variables-processing/#plain-variables-definition"
						"this"
						"url-only" />}}">
						Montuer Plain Variables
						Definition</a>.
				</p></li>
				<li><p>
					<code>[FMTVariables]</code> -
					formattable variables list complying to
					<a href="{{< link
						"/internals/variables-processing/#formattable-variables-definition"
						"this"
						"url-only" />}}">
						Montuer Formattable Variables
						Definition</a>.
				</p></li>
			</ul>
		</p>
	</section>


	<section id="recipe-dependencies-section">
		<h3>Recipe's Dependencies Checking Section</h3>
		<p>
			The Monteur's <a href="{{< link
				"/internals/dependencies-checking/"
				"this"
				"url-only" />}}">Dependencies Checking</a>
			features. All dependencies here are checked against the
			running operating system to ensure proper operations.
			It is highly recommended to abstract as much dependencies
			into this list and away from your setup algorithm as
			possible so that your user can check through the list
			without messing with your algorithm.
			<br/><br/>
			The dependencies checking section consists of the
			following fields:
{{% highlight bash "linenos=table,hl_lines=,linenostart=1" %}}
[[Dependencies]]
Name = 'Go'
Condition = 'all-all'
Type = 'command'
Command = 'go'

[[Dependencies]]
Name = 'Git for version control'
Condition = 'all-all'
Type = 'command'
Command = 'git'
{{% /highlight %}}
			<ul>
				<li><p>
					<code>[[Dependencies]]</code> - a
					dependency entry complying to
					<a href="{{< link
						"/internals/dependencies-checking/"
						"this"
						"url-only" />}}">
						Montuer Dependencies Checking
						Function</a>. The double square
						bracquets is the TOML formatting
						of an array entry to a list.
						Hence, you can add as many as
						you need shown above.
				</p></li>
			</ul>
		</p>
	</section>


	<section id="recipe-commands-section">
		<h3>Recipe's Commands Section</h3>
		<p>
			The list of executing commands complying to
			compliant to <a href="{{< link
						"/internals/commands/"
						"this"
						"url-only" />}}">Commands
				Execution Unit (CEU) Specification</a>.
			The commands are executed AFTER the recipe executed its
			Setup Meta processing.
			<br/><br/>
			The data structure is entirely based on the
			<a href="{{< link "/internals/commands/"
				"this"
				"url-only" />}}">Commands Execution Unit (CEU)
			Specification</a>. An example of this recipe's commands
			section would be:
{{% highlight bash "linenos=table,hl_lines=,linenostart=1" %}}
...

[[CMD]]
Name = "Remove Target Directory"
Type = 'delete-recursive-quiet'
Condition = [ 'all-all' ]
Source = '{{- .Target -}}'

[[CMD]]
Name = "Create Target Directory"
Type = 'create-path'
Condition = [ 'all-all' ]
Source = '{{- .Target -}}'

...
{{% /highlight %}}
		Currently, this is the last section of the recipe configuration
		file.
		</p>
	</section>
</section>




<section id="known-recipes">
	<h2>Known Recipes</h2>
	<p>
		Instead of working on all the recipes from scratch, Monteur
		does maintain a number of existing and continuously improved
		recipes to kick-start your compatible deployment. Here are the
		available recipes:
	</p>
</section>
